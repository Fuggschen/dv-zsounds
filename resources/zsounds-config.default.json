{
    "version": 1,

    "rules": {
        "root": {
            "type": "AllOf",
            "rules": [
                { "type": "If", "property": "CarType", "value": "LocoDiesel",
                    "rule": { "type": "Ref", "name": "loco_de6" } },
                { "type": "If", "property": "CarType", "value": "LocoShunter",
                    "rule": { "type": "Ref", "name": "loco_de2" } },
                { "type": "If", "property": "CarType", "value": "LocoSteamHeavy",
                    "rule": { "type": "Ref", "name": "loco_sh282" } },
            ]
        },

        // locomotives
        "loco_de2": {
            "type": "AllOf",
            "rules": [ "random_diesel_horn", "random_de2_engine", ],
        },
        "loco_de6": {
            "type": "AllOf",
            "rules": [ "random_diesel_horn", "random_de6_engine", ],
            "sounds": [ "EBell" ],
        },
        "loco_sh282": {
            "type": "AllOf",
            "rules": [ "random_sh282_whistle", ],
        },

        // randomized sounds
        "random_diesel_horn": {
            "type": "OneOf",
            "rules": [
                { "type": "AllOf", "sounds": [ "A200_hit", "A200_loop" ] },
                { "type": "AllOf", "sounds": [ "RS3L_hit", "RS3L_loop" ] },
            ]
        },
        "random_de2_engine": {
            "type": "OneOf",
            "rules": [
                { "type": "AllOf" }, // default engine sounds
                { "type": "AllOf", "sounds": [ "OM402LA_startup", "OM402LA_loop", ]},
            ],
            "weights": [ 1, 2, ]
        },
        "random_de6_engine": {
            "type": "OneOf",
            "rules": [
                { "type": "AllOf" }, // default engine sounds
                { "type": "AllOf", "sounds": [ "EMD645_startup", "EMD645_loop", "EMD645_shutdown" ]},
            ]
        },
        "random_sh282_whistle": {
            "type": "OneOf",
            "rules": [
                { "type": "Sound", "name": "Hancock_3Chime" },
                { "type": "Sound", "name": "Manns_Creek_3Chime" },
                { "type": "Sound", "name": "Southern_3Chime" },
            ]
        }
    },

    "sounds": {
        "EBell": { "type": "Bell", "filename": "Sounds\\Graham_White_E_Bell.ogg" },

        "A200_hit": { "type": "HornHit", "filename": "Sounds\\Leslie_A200_hit.ogg" },
        "A200_loop": { "type": "HornLoop", "filename": "Sounds\\Leslie_A200_loop.ogg", "minPitch": 0.97, "maxPitch": 1 },
        "RS3L_hit": { "type": "HornHit", "filename": "Sounds\\RS3L_start.ogg" },
        "RS3L_loop": { "type": "HornLoop", "filename": "Sounds\\RS3L_loop.ogg", "minPitch": 0.97, "maxPitch": 1 },

        "EMD645_startup": { "type": "EngineStartup", "filename": "Sounds\\645E3_Startup.ogg", "fadeStart": 10, "fadeDuration": 2 },
        "EMD645_loop": { "type": "EngineLoop", "filename": "Sounds\\645E3_idle.ogg" },
        "EMD645_shutdown": { "type": "EngineShutdown", "filename": "Sounds\\645E3_Shutdown.ogg", "fadeStart": 0.27, "fadeDuration": 1 },

        "OM402LA_startup": { "type": "EngineStartup", "filename": "Sounds\\OM402LA_Startup.ogg", "fadeStart": 0.18, "fadeDuration": 2 },
        "OM402LA_loop": { "type": "EngineLoop", "filename": "Sounds\\OM402LA_Loop.ogg" },

        "Hancock_3Chime": { "type": "Whistle", "filename": "Sounds\\Hancock_3-Chime.ogg" },
        "Manns_Creek_3Chime": { "type": "Whistle", "filename": "Sounds\\Manns_Creek_3_Chime.ogg" },
        "Southern_3Chime": { "type": "Whistle", "filename": "Sounds\\Southern_3_Chime.ogg" },
    }
}
